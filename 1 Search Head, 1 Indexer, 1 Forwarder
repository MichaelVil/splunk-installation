Search Head: 192.168.56.10
Indexer: 192.168.56.11
Universal Forwarder: 192.168.56.15
License Server: 192.168.56.17

User Name: admin
Password: pa$$w0rd

#Search Head (192.168.56.10)

#Install Splunk Enterprise
#Add license

#Set server name
/opt/splunk/bin/splunk set servername splunk1 -auth admin:pa$$w0rd

#Set host name
/opt/splunk/bin/splunk set default-hostname sh1 -auth admin:pa$$w0rd

#Add search peer
/opt/splunk/bin/splunk add search-server 192.168.56.11:8089 -auth admin:pa$$w0rd -remoteUsername admin -remotePassword pa$$w0rd

#Forward internal data (_internal, _audit and etc) to the indexer layer
nano /opt/splunk/etc/system/local/outputs.conf

[indexAndForward]
index = false
 
[tcpout]
defaultGroup = my_peers_nodes 
forwardedindex.filter.disable = true  
indexAndForward = false 
 
[tcpout:my_peers_nodes]
server=192.168.56.11:9997

#splunk restart


#Indexer (192.168.56.11)

#Install Splunk Enterprise
#Add license

#Set server name
/opt/splunk/bin/splunk set servername splunk1 -auth admin:pa$$w0rd

#Set host name
/opt/splunk/bin/splunk set default-hostname idx1 -auth admin:pa$$w0rd

#Dsable web server
/opt/splunk/bin/splunk disable webserver -auth admin:pa$$w0rd

#Configure listening port
/opt/splunk/bin/splunk enable listen 9997 -auth admin:pa$$w0rd


#Universal Forwarder (192.168.56.15)

#Install UF

#Configure the UF to send data to the Indexer (192.168.56.11)
/opt/splunkforwarder/bin/splunk add forward-server 192.168.56.11:9997 -auth admin:pa$$w0rd 

#Forward data to Indexer





